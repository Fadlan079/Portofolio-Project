<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz</title>
    <style>
        main {
            display: flex;
            gap:30rem;
        }

        .daftarsoal {
            width: 12.5rem;
            background-color: #fff;
            padding: 10rem;
            box-shadow: 2px 0 6px rgba(0,0,0,0.4);
            border-radius: 0.5em;
        }

        .soal {
            margin-bottom:1em ;
            background-color: #fff;
            padding: 1.3em;
            border-radius: 0.2em;
            box-shadow: 2px 0 6px rgba(0,0,0,0.4);
        }
    </style>
</head>
<body>

    <main>
        <div class="daftarsoal" id="output"></div>
        <div class="konten">
            <form id="formsoal">
                <div id="soal"></div>
                <button type="submit">Submit</button>
            </form>
            <div ></div>
        </div>
    </main>

<!-- <script>
const soalList = [
    {
        id: "soal1",
        pertanyaan: "Siapa penemu Bitcoin?",
        pilihan: {A:"Tomas Alfa Edison", B:"Satoshi Nakamoto", C:"Masashi Kishimoto", D:"Jokowi"},
        kunci: "B"
    },
    {
        id: "soal2",
        pertanyaan: "Apa ibukota Jepang?",
        pilihan: {A:"Tokyo", B:"Kyoto", C:"Osaka", D:"Hokkaido"},
        kunci: "A"
    },
    {
        id: "soal3",
        pertanyaan: "2 + 2 Ã— 2 = ?",
        pilihan: {A:"6", B:"8", C:"4", D:"2"},
        kunci: "A"
    }
];

class formsoal {
    constructor(formId, soalList) {
        this.form = document.getElementById(formId);
        this.soalList = soalList;
        this.generateSoal();
        this.setupEvent();
    }

    setupEvent() {
        this.form.addEventListener("submit", (e) => {
            e.preventDefault();
            this.proses();
        });
    }

    generateSoal() {
        const container = document.getElementById("soal");
        this.soalList.forEach((soal, index) => {
            const div = document.createElement("div");
            div.classList.add("soal");
            div.innerHTML = `<h3>${index + 1}. ${soal.pertanyaan}</h3>`;
            for (let key in soal.pilihan) {
                const label = document.createElement("label");
                label.innerHTML = `
                    <input type="radio" name="${soal.id}" value="${key}"> ${key}. ${soal.pilihan[key]}
                `;
                div.appendChild(label);
                div.appendChild(document.createElement("br"));
            }
            container.appendChild(div);
        });
    }

    getJawaban(id) {
        const radio = document.querySelector(`input[name="${id}"]:checked`);
        return radio ? radio.value : null;
    }

    proses() {
        const totalSoal = this.soalList.length;
        const skorPerSoal = 100 / totalSoal;
        let totalSkor = 0;
        let hasil = [];

        for (let soal of this.soalList) {
            const jawabanUser = this.getJawaban(soal.id);
            const benar = jawabanUser === soal.kunci;
            if (benar) totalSkor += skorPerSoal;

            hasil.push({
                Soal: soal.pertanyaan,
                "Jawaban Kamu": jawabanUser 
                    ? `${jawabanUser}. ${soal.pilihan[jawabanUser]}`
                    : "Tidak dijawab",
                Status: benar ? "Benar" : "Salah",
                Poin: benar ? skorPerSoal.toFixed(2) : 0,
                Benar: benar
            });
        }

        this.tampilkanHasil(totalSkor, hasil);
    }

    tampilkanHasil(skor, hasil) {
        const container = document.getElementById("output");

        let html = `<h2>Hasil Ujian</h2>
        <p><strong>Skor Akhir:</strong> ${skor.toFixed(2)} / 100</p>
        <table>
        <tr>
            <th>No</th>
            <th>Soal</th>
            <th>Jawaban Kamu</th>
            <th>Status</th>
            <th>Poin</th>
        </tr>`;

        hasil.forEach((row, i) => {
            html += `<tr class="${row.Benar ? 'benar' : 'salah'}">
                <td>${i + 1}</td>
                <td>${row.Soal}</td>
                <td>${row["Jawaban Kamu"]}</td>
                <td>${row.Status}</td>
                <td>${row.Poin}</td>
            </tr>`;
        });

        html += `</table>`;
        container.innerHTML = html;
    }
}

document.addEventListener("DOMContentLoaded", () => {
    new formsoal("formsoal", soalList);
});
</script> -->

</body>
</html>